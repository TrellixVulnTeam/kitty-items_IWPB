[{"/home/vaibhav/kitty-items/web/src/index.js":"1","/home/vaibhav/kitty-items/web/src/reportWebVitals.js":"2","/home/vaibhav/kitty-items/web/src/global/providers.comp.js":"3","/home/vaibhav/kitty-items/web/src/global/config.js":"4","/home/vaibhav/kitty-items/web/src/pages/root.page.js":"5","/home/vaibhav/kitty-items/web/src/pages/not-found.page.js":"6","/home/vaibhav/kitty-items/web/src/theme.js":"7","/home/vaibhav/kitty-items/web/src/pages/account/index.js":"8","/home/vaibhav/kitty-items/web/src/parts/base.comp.js":"9","/home/vaibhav/kitty-items/web/src/hooks/use-current-user.hook.js":"10","/home/vaibhav/kitty-items/web/src/hooks/use-market-items.hook.js":"11","/home/vaibhav/kitty-items/web/src/global/constants.js":"12","/home/vaibhav/kitty-items/web/src/hooks/use-account-items.hook.js":"13","/home/vaibhav/kitty-items/web/src/hooks/use-url-address.hook.js":"14","/home/vaibhav/kitty-items/web/src/hooks/use-initialized.hook.js":"15","/home/vaibhav/kitty-items/web/src/hooks/use-kibbles-balance.hook.js":"16","/home/vaibhav/kitty-items/web/src/parts/auth-cluster.comp.js":"17","/home/vaibhav/kitty-items/web/src/parts/init-cluster.comp.js":"18","/home/vaibhav/kitty-items/web/src/parts/balance-cluster.comp.js":"19","/home/vaibhav/kitty-items/web/src/parts/market-items-cluster.comp.js":"20","/home/vaibhav/kitty-items/web/src/parts/account-items-cluster.comp.js":"21","/home/vaibhav/kitty-items/web/src/hooks/use-flow-balance.hook.js":"22","/home/vaibhav/kitty-items/web/src/parts/market-item-cluster.comp.js":"23","/home/vaibhav/kitty-items/web/src/parts/account-item-cluster.comp.js":"24","/home/vaibhav/kitty-items/web/src/util/fetcher.js":"25","/home/vaibhav/kitty-items/web/src/util/sleep.js":"26","/home/vaibhav/kitty-items/web/src/util/normalize-item.js":"27","/home/vaibhav/kitty-items/web/src/util/fmt-kibbles.js":"28","/home/vaibhav/kitty-items/web/src/flow/script.get-account-items.js":"29","/home/vaibhav/kitty-items/web/src/flow/script.is-account-initialized.js":"30","/home/vaibhav/kitty-items/web/src/flow/tx.initialize-account.js":"31","/home/vaibhav/kitty-items/web/src/flow/script.get-kibbles-balance.js":"32","/home/vaibhav/kitty-items/web/src/flow/script.get-flow-balance.js":"33","/home/vaibhav/kitty-items/web/src/hooks/use-account-item.hook.js":"34","/home/vaibhav/kitty-items/web/src/hooks/use-market-item.hook.js":"35","/home/vaibhav/kitty-items/web/src/flow/util/tx.js":"36","/home/vaibhav/kitty-items/web/src/flow/tx.create-sale-offer.js":"37","/home/vaibhav/kitty-items/web/src/flow/tx.remove-sale-offer.js":"38","/home/vaibhav/kitty-items/web/src/flow/tx.buy-market-item.js":"39","/home/vaibhav/kitty-items/web/src/flow/script.get-market-item.js":"40","/home/vaibhav/kitty-items/web/src/flow/script.get-account-item.js":"41","/home/vaibhav/kitty-items/web/src/flow/util/batch.js":"42"},{"size":781,"mtime":1624913092632,"results":"43","hashOfConfig":"44"},{"size":362,"mtime":1624913092632,"results":"45","hashOfConfig":"44"},{"size":441,"mtime":1624913092632,"results":"46","hashOfConfig":"44"},{"size":584,"mtime":1624913092632,"results":"47","hashOfConfig":"44"},{"size":943,"mtime":1624913092632,"results":"48","hashOfConfig":"44"},{"size":106,"mtime":1624913092632,"results":"49","hashOfConfig":"44"},{"size":208,"mtime":1624913092632,"results":"50","hashOfConfig":"44"},{"size":5056,"mtime":1624913092632,"results":"51","hashOfConfig":"44"},{"size":58,"mtime":1624913092632,"results":"52","hashOfConfig":"44"},{"size":550,"mtime":1624913092632,"results":"53","hashOfConfig":"44"},{"size":1140,"mtime":1624913092632,"results":"54","hashOfConfig":"44"},{"size":332,"mtime":1624913092632,"results":"55","hashOfConfig":"44"},{"size":1296,"mtime":1624913092632,"results":"56","hashOfConfig":"44"},{"size":177,"mtime":1624913092632,"results":"57","hashOfConfig":"44"},{"size":1916,"mtime":1624913092632,"results":"58","hashOfConfig":"44"},{"size":1262,"mtime":1624913092632,"results":"59","hashOfConfig":"44"},{"size":1528,"mtime":1624913092632,"results":"60","hashOfConfig":"44"},{"size":2286,"mtime":1624913092632,"results":"61","hashOfConfig":"44"},{"size":2178,"mtime":1624913092632,"results":"62","hashOfConfig":"44"},{"size":1237,"mtime":1624913092632,"results":"63","hashOfConfig":"44"},{"size":1309,"mtime":1624913092632,"results":"64","hashOfConfig":"44"},{"size":827,"mtime":1624913092632,"results":"65","hashOfConfig":"44"},{"size":2157,"mtime":1624913092632,"results":"66","hashOfConfig":"44"},{"size":2726,"mtime":1624913092632,"results":"67","hashOfConfig":"44"},{"size":82,"mtime":1624913092632,"results":"68","hashOfConfig":"44"},{"size":103,"mtime":1624913092632,"results":"69","hashOfConfig":"44"},{"size":262,"mtime":1624913092632,"results":"70","hashOfConfig":"44"},{"size":219,"mtime":1624913092632,"results":"71","hashOfConfig":"44"},{"size":765,"mtime":1624913092632,"results":"72","hashOfConfig":"44"},{"size":1675,"mtime":1624913092632,"results":"73","hashOfConfig":"44"},{"size":3178,"mtime":1624913092632,"results":"74","hashOfConfig":"44"},{"size":635,"mtime":1624913092632,"results":"75","hashOfConfig":"44"},{"size":185,"mtime":1624913092632,"results":"76","hashOfConfig":"44"},{"size":1881,"mtime":1624913092632,"results":"77","hashOfConfig":"44"},{"size":2637,"mtime":1624913092632,"results":"78","hashOfConfig":"44"},{"size":1222,"mtime":1624913092632,"results":"79","hashOfConfig":"44"},{"size":2929,"mtime":1624913092632,"results":"80","hashOfConfig":"44"},{"size":1048,"mtime":1624913092632,"results":"81","hashOfConfig":"44"},{"size":2335,"mtime":1624913092632,"results":"82","hashOfConfig":"44"},{"size":1166,"mtime":1624913092632,"results":"83","hashOfConfig":"44"},{"size":1953,"mtime":1624913092632,"results":"84","hashOfConfig":"44"},{"size":2162,"mtime":1624913092632,"results":"85","hashOfConfig":"44"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1rz4gw2",{"filePath":"88","messages":"89","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"90","messages":"91","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"94","messages":"95","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"110","messages":"111","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"112","messages":"113","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"114","messages":"115","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"116","messages":"117","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"120","messages":"121","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"122","messages":"123","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"124","messages":"125","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"128","messages":"129","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"130","messages":"131","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"134","messages":"135","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"136","messages":"137","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"140","messages":"141","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"142","messages":"143","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"146","messages":"147","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"148","messages":"149","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"152","messages":"153","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"154","messages":"155","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"156"},{"filePath":"157","messages":"158","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"159","messages":"160","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"161","messages":"162","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"163","messages":"164","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/vaibhav/kitty-items/web/src/index.js",[],"/home/vaibhav/kitty-items/web/src/reportWebVitals.js",[],"/home/vaibhav/kitty-items/web/src/global/providers.comp.js",[],"/home/vaibhav/kitty-items/web/src/global/config.js",[],"/home/vaibhav/kitty-items/web/src/pages/root.page.js",[],"/home/vaibhav/kitty-items/web/src/pages/not-found.page.js",[],"/home/vaibhav/kitty-items/web/src/theme.js",[],"/home/vaibhav/kitty-items/web/src/pages/account/index.js",[],"/home/vaibhav/kitty-items/web/src/parts/base.comp.js",[],"/home/vaibhav/kitty-items/web/src/hooks/use-current-user.hook.js",[],"/home/vaibhav/kitty-items/web/src/hooks/use-market-items.hook.js",[],"/home/vaibhav/kitty-items/web/src/global/constants.js",[],"/home/vaibhav/kitty-items/web/src/hooks/use-account-items.hook.js",[],"/home/vaibhav/kitty-items/web/src/hooks/use-url-address.hook.js",[],"/home/vaibhav/kitty-items/web/src/hooks/use-initialized.hook.js",[],"/home/vaibhav/kitty-items/web/src/hooks/use-kibbles-balance.hook.js",[],"/home/vaibhav/kitty-items/web/src/parts/auth-cluster.comp.js",[],"/home/vaibhav/kitty-items/web/src/parts/init-cluster.comp.js",[],"/home/vaibhav/kitty-items/web/src/parts/balance-cluster.comp.js",[],"/home/vaibhav/kitty-items/web/src/parts/market-items-cluster.comp.js",[],"/home/vaibhav/kitty-items/web/src/parts/account-items-cluster.comp.js",[],"/home/vaibhav/kitty-items/web/src/hooks/use-flow-balance.hook.js",[],"/home/vaibhav/kitty-items/web/src/parts/market-item-cluster.comp.js",[],"/home/vaibhav/kitty-items/web/src/parts/account-item-cluster.comp.js",[],"/home/vaibhav/kitty-items/web/src/util/fetcher.js",[],"/home/vaibhav/kitty-items/web/src/util/sleep.js",[],"/home/vaibhav/kitty-items/web/src/util/normalize-item.js",[],"/home/vaibhav/kitty-items/web/src/util/fmt-kibbles.js",[],"/home/vaibhav/kitty-items/web/src/flow/script.get-account-items.js",[],"/home/vaibhav/kitty-items/web/src/flow/script.is-account-initialized.js",[],"/home/vaibhav/kitty-items/web/src/flow/tx.initialize-account.js",[],"/home/vaibhav/kitty-items/web/src/flow/script.get-kibbles-balance.js",[],"/home/vaibhav/kitty-items/web/src/flow/script.get-flow-balance.js",[],"/home/vaibhav/kitty-items/web/src/hooks/use-account-item.hook.js",[],"/home/vaibhav/kitty-items/web/src/hooks/use-market-item.hook.js",["171"],"import {useEffect} from \"react\"\nimport {atomFamily, selectorFamily, useRecoilState} from \"recoil\"\nimport {sansPrefix} from \"@onflow/fcl\"\nimport {IDLE, PROCESSING} from \"../global/constants\"\nimport {useCurrentUser} from \"../hooks/use-current-user.hook\"\nimport {useAccountItems} from \"../hooks/use-account-items.hook\"\nimport {useKibblesBalance} from \"../hooks/use-kibbles-balance.hook\"\nimport {fetchMarketItem} from \"../flow/script.get-market-item\"\nimport {buyMarketItem} from \"../flow/tx.buy-market-item\"\nimport {cancelMarketListing} from \"../flow/tx.remove-sale-offer\"\n\nfunction expand(key) {\n  return key.split(\"|\")\n}\n\nfunction comp(address, id) {\n  return [address, id].join(\"|\")\n}\n\nexport const $state = atomFamily({\n  key: \"market-item::state\",\n  default: selectorFamily({\n    key: \"market-item::default\",\n    get: key => async () => await fetchMarketItem(...expand(key)),\n  }),\n})\n\nexport const $status = atomFamily({\n  key: \"market-item::status\",\n  default: IDLE,\n})\n\nexport function useMarketItem(address, id) {\n  const [cu] = useCurrentUser()\n  const ownerItems = useAccountItems(address)\n  const cuItems = useAccountItems(cu.addr)\n  const kibble = useKibblesBalance(cu.addr)\n  const key = comp(address, id)\n  const [item, setItem] = useRecoilState($state(key))\n  const [status, setStatus] = useRecoilState($status(key))\n  const owned = sansPrefix(cu.addr) === sansPrefix(address)\n\n  useEffect(() => {\n    fetchMarketItem(...expand(key)).then(setItem)\n  }, [])\n\n  return {\n    ...item,\n    status,\n    owned,\n    async buy() {\n      await buyMarketItem(\n        {itemID: id, ownerAddress: address},\n        {\n          onStart() {\n            setStatus(PROCESSING)\n          },\n          async onSuccess() {\n            if (address !== cu.addr) {\n              ownerItems.refresh()\n            }\n            cuItems.refresh()\n            kibble.refresh()\n          },\n          async onComplete() {\n            setStatus(IDLE)\n          },\n          async onError(error) {\n            // TODO: Handle error\n          },\n        }\n      )\n    },\n    async cancelListing() {\n      await cancelMarketListing(\n        {itemID: id},\n        {\n          onStart() {\n            setStatus(PROCESSING)\n          },\n          async onSuccess() {\n            cuItems.refresh()\n            kibble.refresh()\n          },\n          async onComplete() {\n            setStatus(IDLE)\n          },\n          async onError(error) {\n            // TODO: Handle error\n          },\n        }\n      )\n    },\n    async refresh() {\n      setStatus(PROCESSING)\n      await fetchMarketItem(...expand(key)).then(setItem)\n      setStatus(IDLE)\n    },\n  }\n}\n","/home/vaibhav/kitty-items/web/src/flow/util/tx.js",[],"/home/vaibhav/kitty-items/web/src/flow/tx.create-sale-offer.js",[],"/home/vaibhav/kitty-items/web/src/flow/tx.remove-sale-offer.js",[],"/home/vaibhav/kitty-items/web/src/flow/tx.buy-market-item.js",[],"/home/vaibhav/kitty-items/web/src/flow/script.get-market-item.js",[],"/home/vaibhav/kitty-items/web/src/flow/script.get-account-item.js",[],"/home/vaibhav/kitty-items/web/src/flow/util/batch.js",[],{"ruleId":"172","severity":1,"message":"173","line":45,"column":6,"nodeType":"174","endLine":45,"endColumn":8,"suggestions":"175"},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'key' and 'setItem'. Either include them or remove the dependency array.","ArrayExpression",["176"],{"desc":"177","fix":"178"},"Update the dependencies array to be: [key, setItem]",{"range":"179","text":"180"},[1465,1467],"[key, setItem]"]